frappe.pages['ussd-menu'].on_page_load = function(wrapper) {	var page = frappe.ui.make_app_page({		parent: wrapper,		title: 'USSD Menu Configuration',		single_column: true	});	frappe.breadcrumbs.add("Varmani");	var main = wrapper.page.main,		chart_area = $("<div>")			.css({"margin-bottom": "15px", "min-height": "200px"})			.appendTo(main),		help_area = $('<hr><div style="padding: 0px 15px;">'+		'<h4>'+__('Quick Help')+'</h4>'+		'<ol>'+			'<li>'+__('To add child nodes, explore tree and click on the node under which you want to add more nodes.')+		'</ol>'+		'</div>').appendTo(main);	var make_tree = function() {		erpnext.varmaniMenu = new erpnext.VarmaniMenu('*130*826#', chart_area.get(0), wrapper.page);	}	page.set_secondary_action(__('Refresh'), function() {		make_tree();	});}frappe.pages['ussd-menu'].on_page_show = function(wrapper){	console.log('ussd-menu" page show');	//wrapper.page.set_secondary_action.trigger("click");	//make_tree();	console.log(wrapper.page.main);	//erpnext.varmaniMenu = new erpnext.VarmaniMenu('*130*826#', wrapper.page.main.chart_area.get(0), wrapper.page);};erpnext.VarmaniMenu = Class.extend({	init: function(root, wrapper, page) {		$(wrapper).empty();		var me = this;		me.can_create = frappe.model.can_create('USSD Menu');		me.can_delete = frappe.model.can_delete('USSD Menu');		me.can_write = frappe.model.can_write('USSD Menu');		me.page = page;		me.root = root;		this.tree = new frappe.ui.Tree({			parent: $(wrapper),			label: me.root,			args: {parent: me.root},			method: 'varmani.varmani.page.ussd_menu.ussd_menu.get_children',			toolbar: [				{toggle_btn: true},				{					label:__("Edit"),					condition: function(node) {						return node.expandable;					},					click: function(node) {						//frappe.set_route("Form", "USSD Menu", node.data.parent);					},					label:__("AddChild"),					condition: function(node) {						me.make_new();					},				}			],			get_label: function(node) {				if (node.data.menu_option) {					return node.data.menu_option				}				else{					return me.root				}			},			onrender: function(node) {				console.log("on render: " + node.data);			}		});		console.log(root);	},	make_new: function(){		console.log('new');	}});